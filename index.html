<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/css/bootstrap-grid.min.css"
    integrity="sha512-Xj2sd25G+JgJYwo0cvlGWXoUekbLg5WvW+VbItCMdXrDoZRWcS/d40ieFHu77vP0dF5PK+cX6TIp+DsPfZomhw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="otp-input">
    <input class="otp-mobile" id='first' type="number" autocomplete="one-time-code" inputmode="numeric" />
    <input class="otp-mobile" id='second' type="number" autocomplete="one-time-code" inputmode="numeric" />
    <input class="otp-mobile" id='third' type="number" autocomplete="one-time-code" inputmode="numeric" />
    <input class="otp-mobile" id='forth' type="number" autocomplete="one-time-code" inputmode="numeric" />
    <input class="otp-mobile" id='fifth' type="number" autocomplete="one-time-code" inputmode="numeric" />
    <input class="otp-mobile" id='sixth' type="number" autocomplete="one-time-code" inputmode="numeric" />
  </div>
  <script>
    if ("OTPCredential" in window) {
      window.addEventListener("DOMContentLoaded", (e) => {
        const inputs = document.querySelectorAll(".otp-mobile");
        const ac = new AbortController();
        navigator.credentials
          .get({
            otp: { transport: ["sms"] },
            signal: ac.signal,
          })
          .then((otp) => {
            console.log(`OTP: ${otp.code}`);
            for (var i = 0; i < otpCode.length; i++) {
              inputs[i].value = otpCode.charAt(i); // Fill in each input field with a single digit
              console.log(inputs[i].value);
            }
          })
          .catch((err) => {
            console.log(`Failed to get OTP: ${error}`);
          });
      });
    }
  </script>
</body>

</html>
